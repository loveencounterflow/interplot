<!DOCTYPE html>
<meta charset=utf8><title>Galley Demo</title><script src=../plink-plonk.js></script><script src=../browserified.js></script><script src=../ops-globals.js></script><script src=../ops-microdom.js></script><script src=../ops.js></script><script src=../../../hengist/dev/interplot/lib/ops-hengist-experimental.js></script><link href=../reset.css rel=stylesheet><link href=../styles.css rel=stylesheet><script>(function() {
          return µ.DOM.ready(function() {
            return console.log('^4445^', "demo for `µ.DOM.ready()`");
          });
        })();</script><body class=debug><script src=../fczbkk-css-selector-generator.js></script><script>(function() {
          return µ.DOM.ready(function() {
            var sg;
            sg = new CssSelectorGenerator();
            globalThis.selector_of = function(node) {
              return sg.getSelector(node);
            };
            return null;
          });
        })();</script><link href=./galley.css rel=stylesheet><unstyledelement id=unstyledelement></unstyledelement><style>gauge#gauge {
  display:                block;
  position:               absolute;
  top:                    10mm;
  left:                   0mm;
  width:                  10mm;
  min-width:              10mm;
  max-width:              10mm;
  height:                 10mm;
  min-height:             10mm;
  max-height:             10mm;
  mix-blend-mode:         multiply;
  backdrop-filter:        blur(0.2mm);
  background-color:       #ab2865; }
@media print{ gauge#gauge { display: none; } }
</style><script>(function() {
          return µ.DOM.ready(function() {
            var f;
            //.....................................................................................................
            f = function() {
              var cmgauge_dom;
              cmgauge_dom = µ.DOM.select('#gauge');
              this.px_per_mm = (µ.DOM.get_width(cmgauge_dom)) / 10;
              this.mm_per_px = 1 / this.px_per_mm;
              this.px_from_mm = function(mm) {
                return mm * this.px_per_mm;
              };
              this.mm_from_px = function(px) {
                return px * this.mm_per_px;
              };
              this.width_mm_of = function(node) {
                return this.mm_from_px((_KW_as_dom_node(node)).getBoundingClientRect().width);
              };
              return this.height_mm_of = function(node) {
                return this.mm_from_px((_KW_as_dom_node(node)).getBoundingClientRect().height);
              };
            };
            //.....................................................................................................
            f.apply(globalThis.GAUGE = {});
            return null;
          });
        })();</script><gauge class='gui draggable' id=gauge></gauge><script>(function() {
          return µ.DOM.ready(function() {
            globalThis.toolbox = {};
            toolbox.debugonoff_dom = µ.DOM.select('#debugonoff');
            toolbox.zoomin_dom = µ.DOM.select('#zoomin');
            toolbox.zoomout_dom = µ.DOM.select('#zoomout');
            toolbox.zoomer_dom = µ.DOM.select('#zoomer');
            // zoomer_dom.css 'transform-origin', "top left"
            //...................................................................................................
            µ.DOM.on(toolbox.debugonoff_dom, 'click', function() {
              return µ.DOM.toggle_class(µ.DOM.select('body'), 'debug');
            });
            //...................................................................................................
            /* TAINT should use CSS animations */
            µ.DOM.on(toolbox.zoomin_dom, 'click', function() {
              var current_zoom;
              current_zoom = parseFloat(µ.DOM.get_style_rule(toolbox.zoomer_dom, 'zoom'));
              return µ.DOM.set_style_rule(toolbox.zoomer_dom, 'zoom', current_zoom * 1.25);
            });
            //...................................................................................................
            µ.DOM.on(toolbox.zoomout_dom, 'click', function() {
              var current_zoom;
              current_zoom = parseFloat(µ.DOM.get_style_rule(toolbox.zoomer_dom, 'zoom'));
              return µ.DOM.set_style_rule(toolbox.zoomer_dom, 'zoom', current_zoom / 1.25);
            });
            //...................................................................................................
            return null;
          });
        })();</script><toolbox class=gui><button class=gui id=debugonoff>dbg</button><button class=gui id=zoomout>z–</button><button class=gui id=zoomin>z+</button></toolbox><artboard class=pages id=artboard1><caret id=caret></caret><zoomer id=zoomer><div class='draggable dropshadow' style=position:absolute;z-index:100;mix-blend-mode:multiply;backdrop-filter:blur(0.2mm);background-color:yellow;width:300mm;height:20mm;left:31mm;top:17mm><img src=../rulers/hruler.png style=mix-blend-mode:multiply;></div>

<div class='draggable dropshadow' style=position:absolute;z-index:100;mix-blend-mode:multiply;backdrop-filter:blur(0.2mm);background-color:yellow;width:20mm;height:300mm;left:8mm;top:40mm><img src=../rulers/vruler.png style=mix-blend-mode:multiply;></div>

<script>(function() {
            return µ.DOM.ready(function() {
              var element, i, len, ref, results;
              ref = µ.DOM.select_all('.draggable');
              results = [];
              for (i = 0, len = ref.length; i < len; i++) {
                element = ref[i];
                results.push(µ.DOM.make_draggable(element));
              }
              return results;
            });
          })();</script><page class=right id=page1><earmark>1</earmark><paper></paper><chase><topmargin></topmargin>

<hbox><leftmargin></leftmargin>

<column></column>

<vgap></vgap>

<column></column>

<vgap></vgap>

<column></column>

<rightmargin></rightmargin>

</hbox>

<bottommargin></bottommargin>

</chase></page></zoomer>

</artboard>

<span id=page-ready></span></body>