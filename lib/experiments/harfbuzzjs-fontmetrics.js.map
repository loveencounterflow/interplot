{
  "version": 3,
  "file": "",
  "sourceRoot": "",
  "sources": [
    "../../src/experiments/harfbuzzjs-fontmetrics.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\n'use strict'\n\n\n############################################################################################################\nCND                       = require 'cnd'\nrpr                       = CND.rpr\nbadge                     = 'INTERPLOT/SCRATCH'\ndebug                     = CND.get_logger 'debug',     badge\nalert                     = CND.get_logger 'alert',     badge\nwhisper                   = CND.get_logger 'whisper',   badge\nwarn                      = CND.get_logger 'warn',      badge\nhelp                      = CND.get_logger 'help',      badge\nurge                      = CND.get_logger 'urge',      badge\ninfo                      = CND.get_logger 'info',      badge\necho                      = CND.echo.bind CND\n#...........................................................................................................\nFS                        = require 'fs'\nPATH                      = require 'path'\n\nwarn CND.reverse \"Can't use harfbuzzjs because:\"\nwarn CND.reverse \"* harfbuzzjs doesn't have font feature switches (python version has them)\"\nwarn CND.reverse \"* metrics returned with font glyph nr, but have no way so far to access these for typesetting\"\nwarn()\nwarn CND.reverse \"this code has been moved to jzr/font-outlines-as-svg\"\nprocess.exit 1\n\n#-----------------------------------------------------------------------------------------------------------\nexample = ( HB, font_blob, text ) ->\n  blob      = HB.createBlob font_blob\n  face      = HB.createFace blob, 0\n  font      = HB.createFont face\n  ### NOTE Units per em. Optional; taken from font if not given ###\n  font.setScale 1000, 1000\n  buffer    = HB.createBuffer()\n  try\n    buffer.addText text\n    buffer.guessSegmentProperties()\n    ### NOTE optional as can be set by guessSegmentProperties also: ###\n    # buffer.setDirection 'ltr'\n    HB.shape font, buffer ### TAINT !!! features are not supported yet !!! ###\n    ### from https://pypi.org/project/uharfbuzz/:\n      features = {\"kern\": True, \"liga\": True}\n      hb.shape(font, buf, features)\n    ###\n    R = buffer.json font\n    # console.log '^555787^', font\n    # console.log '^555787^', face\n  finally\n    buffer.destroy()\n    font.destroy()\n    face.destroy()\n    blob.destroy()\n  return R\n\n\n############################################################################################################\nif module is require.main then do =>\n  path                = '/home/flow/jzr/ucdb/font-sources/lmroman10-italic.otf';\n  path                = '/home/flow/jzr/ucdb/font-sources/lmroman10-italic.otf';\n  font_blob           = new Uint8Array FS.readFileSync path\n  HB                  = await require 'harfbuzzjs'\n  text                = 'Just Text.'\n  for d in example HB, font_blob, text\n    urge d\n\n\n"
  ]
}