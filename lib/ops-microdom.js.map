{
  "version": 3,
  "file": "",
  "sourceRoot": "",
  "sources": [
    "../src/ops-microdom.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\n'use strict'\n\nmisfit                = Symbol 'misfit'\n_types                = µ.TYPES.export()\nV                     = _types.validate\n{ isa }               = _types\n\n#===========================================================================================================\nname_of_match_method  = do ->\n  element = document.createElement 'div'\n  for name in [ 'matches', 'matchesSelector', 'msMatchesSelector', \\\n    'mozMatchesSelector', 'webkitMatchesSelector', 'oMatchesSelector', ]\n    return name if element[ name ]?\n\n#===========================================================================================================\nµ.TYPES.declare 'element',  ( x ) -> x instanceof Element\nµ.TYPES.declare 'delement', ( x ) -> x is document or x instanceof Element\n\n\n#===========================================================================================================\nclass Micro_dom # extends Multimix\n  ### inspired by http://youmightnotneedjquery.com\n  and https://blog.garstasio.com/you-dont-need-jquery ###\n\n  #---------------------------------------------------------------------------------------------------------\n  ready: ( f ) ->\n    # thx to https://stackoverflow.com/a/7053197/7568091\n    # function r(f){/in/.test(document.readyState)?setTimeout(r,9,f):f()}\n    V.function f\n    return ( setTimeout ( => @ready f ), 9 ) if /in/.test document.readyState\n    return f()\n\n  #---------------------------------------------------------------------------------------------------------\n  select:     ( selector, fallback = misfit ) -> @select_from     document, selector, fallback\n  select_all: ( selector                    ) -> @select_all_from document, selector\n\n  #---------------------------------------------------------------------------------------------------------\n  select_from: ( element, selector, fallback = misfit ) ->\n    V.delement element\n    V.nonempty_text selector\n    unless ( R = element.querySelector selector )?\n      throw new Error \"^µDOM/select_from@7758^ no such element: #{µ.rpr selector}\" if fallback is misfit\n      return fallback\n    return R\n\n  #---------------------------------------------------------------------------------------------------------\n  select_all_from: ( element, selector ) ->\n    V.delement element\n    V.nonempty_text selector\n    Array.from element.querySelectorAll selector\n\n  #---------------------------------------------------------------------------------------------------------\n  select_id:  ( id, fallback = misfit ) ->\n    V.nonempty_text id\n    unless ( R = document.getElementById id )?\n      throw new Error \"^µDOM/select_id@7758^ no element with ID: #{µ.rpr id}\" if fallback is misfit\n      return fallback\n    return R\n\n  #---------------------------------------------------------------------------------------------------------\n  matches_selector: ( element, selector ) ->\n    V.nonempty_text selector\n    V.element element\n    return element[ name_of_match_method ] selector\n\n  #---------------------------------------------------------------------------------------------------------\n  get:              ( element, name         ) -> V.element element; element.getAttribute name\n  set:              ( element, name, value  ) -> V.element element; element.setAttribute name, value\n  #---------------------------------------------------------------------------------------------------------\n  get_classes:      ( element               ) -> V.element element; element.classList\n  add_class:        ( element, name         ) -> V.element element; element.classList.add      name\n  has_class:        ( element, name         ) -> V.element element; element.classList.contains name\n  remove_class:     ( element, name         ) -> V.element element; element.classList.remove   name\n  toggle_class:     ( element, name         ) -> V.element element; element.classList.toggle   name\n  #---------------------------------------------------------------------------------------------------------\n  hide:             ( element               ) -> V.element element; element.style.display = 'none'\n  show:             ( element               ) -> V.element element; element.style.display = ''\n  #---------------------------------------------------------------------------------------------------------\n  get_live_styles:  ( element               ) -> getComputedStyle element ### validation done by method ###\n  get_style_rule:   ( element, name         ) -> ( getComputedStyle element )[ name ] ### validation done by method ###\n  set_style_rule:   ( element, name, value  ) ->\n    ### see https://developer.mozilla.org/en-US/docs/Web/API/ElementCSSInlineStyle/style ###\n    throw new Error \"^888744^ not implemented\"\n    # toolbox.zoomer_dom.style.zoom = current_zoom * 1.25\n    # ( getComputedStyle element )[ name ] ### validation done by method ###\n\n\n  #=========================================================================================================\n  # ELEMENT CREATION\n  #---------------------------------------------------------------------------------------------------------\n  parse_one: ( element_html ) ->\n    R = @parse_all element_html\n    unless ( length = R.length ) is 1\n      throw new Error \"^µDOM/parse_one@7558^ expected HTML for 1 element but got #{length}\"\n    return R[ 0 ]\n\n  #---------------------------------------------------------------------------------------------------------\n  parse_all: ( html ) ->\n    ### TAINT return Array or HTMLCollection? ###\n    V.nonempty_text html\n    R = document.implementation.createHTMLDocument()\n    R.body.innerHTML = html\n    return R.body.children\n\n  #---------------------------------------------------------------------------------------------------------\n  new_element: ( xname, P... ) ->\n    ### TAINT analyze xname (a la `div#id42.foo.bar`) as done in Intertext.Cupofhtml ###\n    ### TAINT in some cases using innerHTML, documentFragment may be advantageous ###\n    R           = document.createElement xname\n    attributes  = {}\n    text        = null\n    for p in P\n      if isa.text p\n        text = p\n        continue\n      attributes = Object.assign attributes, p ### TAINT check type? ###\n    R.textContent = text if text?\n    R.setAttribute k, v for k, v of attributes\n    return R\n\n  #---------------------------------------------------------------------------------------------------------\n  deep_copy: ( element ) -> element.cloneNode true\n\n\n  #=========================================================================================================\n  # OUTER, INNER HTML\n  #---------------------------------------------------------------------------------------------------------\n  get_inner_html:   ( element ) -> V.element element; element.innerHTML\n  get_outer_html:   ( element ) -> V.element element; element.outerHTML\n\n\n  #=========================================================================================================\n  # INSERTION\n  #---------------------------------------------------------------------------------------------------------\n  insert: ( position, target, x ) ->\n    switch position\n      when 'before',    'beforebegin' then return @insert_before   target, x\n      when 'as_first',  'afterbegin'  then return @insert_as_first target, x\n      when 'as_last',   'beforeend'   then return @insert_as_last  target, x\n      when 'after',     'afterend'    then return @insert_after    target, x\n    throw new Error \"^µDOM/insert@7758^ not a valid position: #{µ.rpr position}\"\n\n  #---------------------------------------------------------------------------------------------------------\n  ### NOTE pending practical considerations and benchmarks we will probably remove one of the two sets\n  of insertion methods ###\n  insert_before:   ( target, x ) -> V.element target; target.insertAdjacentElement 'beforebegin', x\n  insert_as_first: ( target, x ) -> V.element target; target.insertAdjacentElement 'afterbegin',  x\n  insert_as_last:  ( target, x ) -> V.element target; target.insertAdjacentElement 'beforeend',   x\n  insert_after:    ( target, x ) -> V.element target; target.insertAdjacentElement 'afterend',    x\n\n  #---------------------------------------------------------------------------------------------------------\n  before:   ( target, x... ) -> V.element target; target.before   x...\n  prepend:  ( target, x... ) -> V.element target; target.prepend  x...\n  append:   ( target, x... ) -> V.element target; target.append   x...\n  after:    ( target, x... ) -> V.element target; target.after    x...\n\n\n  #=========================================================================================================\n  # REMOVAL\n  #---------------------------------------------------------------------------------------------------------\n  remove: ( element ) ->\n    ### see http://youmightnotneedjquery.com/#remove ###\n    V.element element\n    element.parentNode.removeChild element\n\n\n  #=========================================================================================================\n  # GEOMETRY\n  #---------------------------------------------------------------------------------------------------------\n  ### NOTE observe that `DOM.get_offset_top()` and `element.offsetTop` are two different things; terminology\n  is confusing here, so consider renaming to avoid `offset` altogether ###\n  get_offset_top:  ( element ) -> ( @get_offset element ).top\n  get_offset_left: ( element ) -> ( @get_offset element ).left\n\n  #---------------------------------------------------------------------------------------------------------\n  get_offset: ( element ) ->\n    ### see http://youmightnotneedjquery.com/#offset ###\n    V.element element\n    rectangle = element.getBoundingClientRect()\n    return {\n      top:  rectangle.top   + document.body.scrollTop\n      left: rectangle.left  + document.body.scrollLeft }\n\n  #---------------------------------------------------------------------------------------------------------\n  ### see http://youmightnotneedjquery.com/#get_width ###\n  get_width: ( element ) -> parseFloat ( getComputedStyle element, null ).width\n\n\n  #=========================================================================================================\n  # EVENTS\n  #---------------------------------------------------------------------------------------------------------\n  on: ( element, name, handler ) ->\n    ### see http://youmightnotneedjquery.com/#on, http://youmightnotneedjquery.com/#delegate ###\n    V.element element\n    V.nonempty_text name\n    V.function handler\n    return element.addEventListener name, handler\n\n\n\n\n\n( globalThis.µ ?= {} ).DOM = new Micro_dom()\n\n###\n\nhttps://stackoverflow.com/a/117988/7568091\n\ninnerHTML is remarkably fast, and in many cases you will get the best results just setting that (I would\njust use append).\n\nHowever, if there is much already in \"mydiv\" then you are forcing the browser to parse and render all of\nthat content again (everything that was there before, plus all of your new content). You can avoid this by\nappending a document fragment onto \"mydiv\" instead:\n\nvar frag = document.createDocumentFragment();\nfrag.innerHTML = html;\n$(\"#mydiv\").append(frag);\nIn this way, only your new content gets parsed (unavoidable) and the existing content does not.\n\nEDIT: My bad... I've discovered that innerHTML isn't well supported on document fragments. You can use the\nsame technique with any node type. For your example, you could create the root table node and insert the\ninnerHTML into that:\n\nvar frag = document.createElement('table');\nfrag.innerHTML = tableInnerHtml;\n$(\"#mydiv\").append(frag);\n\n\n###\n"
  ]
}