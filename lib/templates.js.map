{
  "version": 3,
  "file": "",
  "sourceRoot": "",
  "sources": [
    "../src/templates.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\n# cannot 'use strict'\n\n\n############################################################################################################\nCND                       = require 'cnd'\nrpr                       = CND.rpr.bind CND\nbadge                     = 'INTERPLOT/TEMPLATES'\nlog                       = CND.get_logger 'plain',     badge\ninfo                      = CND.get_logger 'info',      badge\nwhisper                   = CND.get_logger 'whisper',   badge\nalert                     = CND.get_logger 'alert',     badge\ndebug                     = CND.get_logger 'debug',     badge\nwarn                      = CND.get_logger 'warn',      badge\nhelp                      = CND.get_logger 'help',      badge\nurge                      = CND.get_logger 'urge',      badge\necho                      = CND.echo.bind CND\n#...........................................................................................................\n# MKTS                      = require './main'\nPATH                      = require 'path'\nFS                        = require 'fs'\nURL                       = require 'url'\n# CHR                       = require 'coffeenode-chr'\n#...........................................................................................................\n# _STYLUS                   = require 'stylus'\n# as_css                    = STYLUS.render.bind STYLUS\n# style_route               = PATH.join __dirname, '../src/mingkwai-typesetter.styl'\n# css                       = as_css FS.readFileSync style_route, encoding: 'utf-8'\n#...........................................................................................................\n### NOTE starting migration to `Cupofhtml` b/c of `&quote` bug in teacup ###\nINTERTEXT                 = require 'intertext'\n\n\n#===========================================================================================================\n# EXPOSED METHODS (EXPERIMENTAL: FOR USE IN BROWSER CONTEXT)\n#-----------------------------------------------------------------------------------------------------------\n@slug_as_html = ->\n  c = new Mycupofhtml()\n  c.S.slug()\n  return c.as_html()\n\n\n#===========================================================================================================\n#\n#-----------------------------------------------------------------------------------------------------------\nget_sameid_tag = ( name, blk ) -> ( P... ) -> @_.tag name, { $blk: blk, id: name, }, P...\n\n#-----------------------------------------------------------------------------------------------------------\nclass Mytags extends INTERTEXT.CUPOFHTML.Tags\n\n#-----------------------------------------------------------------------------------------------------------\nclass Myspecials extends INTERTEXT.CUPOFHTML.Specials\n  # tabletop:         get_sameid_tag 'tabletop'\n  grid:             get_sameid_tag 'grid'\n  zoomer:           get_sameid_tag 'zoomer', { $blk: true, }\n  caret:            get_sameid_tag 'caret'\n  unstyledelement:  get_sameid_tag 'unstyledelement'\n  box:              ( P... ) -> @_.tag 'box',           { $blk: true, }, P...\n  hbox:             ( P... ) -> @_.tag 'hbox',          { $blk: true, }, P...\n  hgap:             ( P... ) -> @_.tag 'hgap',          { $blk: true, }, P...\n  vbox:             ( P... ) -> @_.tag 'vbox',          { $blk: true, }, P...\n  vgap:             ( P... ) -> @_.tag 'vgap',          { $blk: true, }, P...\n  xhgap:            ( P... ) -> @_.tag 'xhgap',         { $blk: true, }, P...\n  topmargin:        ( P... ) -> @_.tag 'topmargin',     { $blk: true, }, P...\n  bottommargin:     ( P... ) -> @_.tag 'bottommargin',  { $blk: true, }, P...\n  leftmargin:       ( P... ) -> @_.tag 'leftmargin',    { $blk: true, }, P...\n  rightmargin:      ( P... ) -> @_.tag 'rightmargin',   { $blk: true, }, P...\n  column:           ( P... ) -> @_.tag 'column',        { $blk: true, }, P...\n  ### TAINT should be `<pageready></pageready>` if needed at all ###\n  artboard:         ( P... ) -> @_.tag 'artboard', { $blk: true, }, P...\n  trim:             -> @_.tag 'trim'\n  slug:             -> @_.tag 'slug', => @trim()\n  pageready:        -> @_.H.span { id: 'page-ready', }\n\n  #---------------------------------------------------------------------------------------------------------\n  selector_generator: ->\n    ### https://github.com/fczbkk/css-selector-generator ###\n    { S, H, } = @_\n    S.script '../fczbkk-css-selector-generator.js'\n    S.script ->\n      µ.DOM.ready ->\n        sg = new CssSelectorGenerator;\n        globalThis.selector_of = ( node ) -> sg.getSelector node\n        return null\n\n  #---------------------------------------------------------------------------------------------------------\n  gauge: ->\n    { S, H, } = @_\n    H.style \"\"\"\n      gauge#gauge {\n        display:                block;\n        position:               absolute;\n        top:                    10mm;\n        left:                   0mm;\n        width:                  10mm;\n        min-width:              10mm;\n        max-width:              10mm;\n        height:                 10mm;\n        min-height:             10mm;\n        max-height:             10mm;\n        mix-blend-mode:         multiply;\n        backdrop-filter:        blur(0.2mm);\n        background-color:       #ab2865; }\n      @media print{ gauge#gauge { display: none; } }\\n\"\"\"\n    S.script ->\n      µ.DOM.ready ->\n        #.....................................................................................................\n        f = ->\n          cmgauge_dom   = µ.DOM.select '#gauge'\n          @px_per_mm    = ( µ.DOM.get_width cmgauge_dom ) / 10\n          @mm_per_px    = 1 / @px_per_mm\n          @px_from_mm   = ( mm    ) -> mm * @px_per_mm\n          @mm_from_px   = ( px    ) -> px * @mm_per_px\n          @width_mm_of  = ( node  ) -> @mm_from_px ( _KW_as_dom_node node ).getBoundingClientRect().width\n          @height_mm_of = ( node  ) -> @mm_from_px ( _KW_as_dom_node node ).getBoundingClientRect().height\n        #.....................................................................................................\n        f.apply globalThis.GAUGE = {}\n        return null\n    @_.tag 'gauge', { id: 'gauge', class: 'gui draggable', }\n\n  #---------------------------------------------------------------------------------------------------------\n  toolbox: ->\n    { S, H, } = @_\n    S.script ->\n      µ.DOM.ready ->\n        globalThis.toolbox    = {}\n        toolbox.debugonoff_dom  = µ.DOM.select '#debugonoff'\n        toolbox.zoomin_dom      = µ.DOM.select '#zoomin'\n        toolbox.zoomout_dom     = µ.DOM.select '#zoomout'\n        toolbox.zoomer_dom      = µ.DOM.select '#zoomer'\n        # zoomer_dom.css 'transform-origin', \"top left\"\n        #...................................................................................................\n        µ.DOM.on toolbox.debugonoff_dom, 'click', -> µ.DOM.toggle_class ( µ.DOM.select 'body' ), 'debug'\n        #...................................................................................................\n        ### TAINT should use CSS animations ###\n        µ.DOM.on toolbox.zoomin_dom, 'click', ->\n          current_zoom = parseFloat µ.DOM.get_style_rule toolbox.zoomer_dom, 'zoom'\n          µ.DOM.set_style_rule toolbox.zoomer_dom, 'zoom', current_zoom * 1.25\n        #...................................................................................................\n        µ.DOM.on toolbox.zoomout_dom, 'click', ->\n          current_zoom = parseFloat µ.DOM.get_style_rule toolbox.zoomer_dom, 'zoom'\n          µ.DOM.set_style_rule toolbox.zoomer_dom, 'zoom', current_zoom / 1.25\n        #...................................................................................................\n        return null\n    @_.tag 'toolbox', { class: 'gui', }, ->\n      H.button { id: 'debugonoff', class: 'gui', }, \"dbg\"\n      H.button { id: 'zoomout',    class: 'gui', }, \"z–\"\n      H.button { id: 'zoomin',     class: 'gui', }, \"z+\"\n\n  #---------------------------------------------------------------------------------------------------------\n  page: ( settings, content ) ->\n    defaults  = { pagenr: 0, }\n    settings  = { defaults..., settings..., }\n    id        = \"page#{settings.pagenr}\"\n    clasz     = if ( settings.pagenr %% 2 is 0 ) then 'left' else 'right'\n    @_.tag 'page', { id, class: clasz, }, =>\n      @_.tag 'earmark', -> \"#{settings.pagenr}\"\n      @_.tag 'paper'\n      @_.tag 'chase', ->\n        if ( typeof content ) is 'function'\n          content()\n\n  #---------------------------------------------------------------------------------------------------------\n  galley: -> @tag ( settings ) -> _._SLUGCONTAINER 'galley',    settings\n\n  #---------------------------------------------------------------------------------------------------------\n  layout: ( settings, content ) ->\n    { S, H, } = @_\n    S.doctype 'html'\n    # H.html ->\n    #   H.head ->\n    H.meta { charset: 'utf8', }\n    H.title settings.page.title\n    ### TAINT should resolve path according to page address ###\n    S.script '../plink-plonk.js'\n    S.script '../browserified.js'\n    S.script '../ops-globals.js'\n    S.script '../ops-microdom.js'\n    S.script '../ops.js'\n    if settings.extra_script_path?\n      S.script settings.extra_script_path\n    S.link_css '../reset.css'\n    S.link_css '../styles.css'\n    S.script ->\n      µ.DOM.ready -> console.log '^4445^', \"demo for `µ.DOM.ready()`\"\n    H.body ( if settings.page.body_def then { class: settings.page.body_def, } else {} ), ->\n      content()\n      S.pageready()\n\n#-----------------------------------------------------------------------------------------------------------\nclass Mycupofhtml extends INTERTEXT.CUPOFHTML.Cupofhtml\n  H: Mytags\n  S: Myspecials\n\n\n#===========================================================================================================\n#\n#-----------------------------------------------------------------------------------------------------------\n@demo_galley = ->\n  unless ( arity = arguments.length ) is 0\n    throw new Error \"^33211^ expected 0 arguments, got #{arity}\"\n  #.........................................................................................................\n  c             = new Mycupofhtml()\n  { H, S, }     = c.export()\n  settings      = require './settings'\n  page_settings =\n    page:\n      title:      'Galley Demo'\n      body_def:   'debug'\n  settings      = { settings..., page_settings..., }\n  S.layout settings, ->\n    S.selector_generator()\n    S.link_css './galley.css'\n    S.unstyledelement()\n    S.gauge()\n    S.toolbox()\n    #.......................................................................................................\n    S.artboard { id: 'artboard1', class: 'pages', }, ->\n      S.caret() ### TAINT ensure element doesn't take up space ###\n      S.zoomer ->\n        # _style = \"background-color:#ff0b;z-index:100;position:absolute;\"\n        H.div { class: 'draggable dropshadow', }, { style: \"position:absolute;z-index:100;mix-blend-mode:multiply;backdrop-filter:blur(0.2mm);background-color:yellow;width:300mm;height:20mm;left:31mm;top:17mm\", }, ->\n          H.img { src: '../rulers/hruler.png', style: \"mix-blend-mode:multiply;\", }\n        H.div { class: 'draggable dropshadow', }, { style: \"position:absolute;z-index:100;mix-blend-mode:multiply;backdrop-filter:blur(0.2mm);background-color:yellow;width:20mm;height:300mm;left:8mm;top:40mm\", }, ->\n          H.img { src: '../rulers/vruler.png', style: \"mix-blend-mode:multiply;\", }\n        S.script ->\n          µ.DOM.ready ->\n            µ.DOM.make_draggable element for element in µ.DOM.select_all '.draggable'\n            # # console.log '^33376^', \"draggables deactivated FTTB\"\n        #     # ( $ '.draggable' ).draggable()\n        #     # ( $ '.draggable' ).on 'focus', -> ( $ @ ).blur()\n        # # _.TAG 'page', { pagenr: 0, }\n        #.......................................................................................................\n        S.page { pagenr: 1, }, ->\n          S.topmargin()\n          S.hbox ->\n            S.leftmargin()\n            S.column()\n            S.vgap()\n            S.column()\n            S.vgap()\n            S.column()\n            S.rightmargin()\n          S.bottommargin()\n        # # #.......................................................................................................\n        # # _.PAGE { pagenr: 3, }, ->\n        # #   _.GALLEY    { width: '150mm', slugcount: 25,  empty: true, }\n        # #.......................................................................................................\n        # _.PAGE { pagenr: 4, }, ->\n        #   _.TAG 'demo-paragraph', { id: 'd1', contenteditable: 'true', }, \"\"\"\n        #     自馮瀛王\"\"\"\n        # #.......................................................................................................\n        # _.PAGE { pagenr: 5, }, ->\n        #   #.......................................................................................................\n        #   _.TAG 'demo-paragraph', { id: 'd2', contenteditable: 'true', }, \"\"\"\n        #     ䷼䷽䷾䷿䷼䷽䷾䷿䷼䷽おきみつおきかずこううんじおきひでこうえいおきながカキクケオイロハニオヘトキュウカッパダッテ\n        #     亥核帝六今令户戶京立音言主文一丁丂國七丄種从虫䜌聲한국어조선말ABC123縉鄑戬戩虚虛嘘噓墟任廷呈程草花\n        #     敬寬茍苟慈没殁沒歿芟投般咎昝晷倃卧臥虎微秃丸常當尚尙區陋沿匚匡亡匸匿龍祗萬禽宫宮侣營麻術述刹新案\n        #     條寨甚商罕深差茶採某也的害編真直值縣祖概鄉者良鬼龜過骨為爲益温溫穴空舟近雞食搵絕丟丢曾𠔃兮清前有\n        #     半平內内羽非邦亠詽訮刊方兌兑马馬\n        #     あいうえおか〇〡〢〣〤〥〦〧〨〩〸〹〺㐀㐁㐂一丁丂豈更車並况全𗀀𗀁𗀂𘠄𘠅𘠆𘠇𘠈𘠉𘠊𛅰𛅱𛅲𛅳\n        #     ⾱⾲⾳⾴\n        #     其法用膠泥刻字，薄如錢唇，每字為一印，火燒令堅。先設一鐵版，其上以松脂臘和紙灰之類冒之。\n        #     其法用膠泥刻字、^薄如錢唇、^每字為一印、^火燒令堅。先設一鐵版、^其上以松脂臘和紙灰之類冒之。\n        #     Yaffir rectangle刻文字apostolary. Letterpress printing is a technique of relief printing using a printing press.\n        #     自馮瀛王始印五經已後典籍皆為版本其法用膠泥刻字\n        #     \"\"\"\n        # #.......................................................................................................\n        # _.PAGE { pagenr: 6, }, ->\n        #   #.......................................................................................................\n        #   _.TAG 'galley', { style: \"max-width: 150mm\", }, ->\n        #     _.TAG 'slug', { style: \"max-width: 150mm\", }, ->\n        #       ### thx to https://stackoverflow.com/a/30526943/7568091 ###\n        #       _.TAG 'trim', { style: \"display:flex;\", contenteditable: 'true', }, ->\n        #         _.RAW '自'\n        #         _.TAG 'g'\n        #         _.RAW '馮'\n        #         _.TAG 'g'\n        #         _.RAW '瀛'\n        #         _.TAG 'g'\n        #         _.RAW '王'\n        #         # _.RAW '始'\n        #         # _.RAW '印'\n        #         # _.RAW '五'\n        #         # _.RAW '經'\n        #         # _.RAW '已'\n        #         # _.RAW '後'\n        #         # _.RAW '典'\n        #         # _.RAW '籍'\n        #         # _.RAW '皆'\n        #         # _.RAW '為'\n        #         # _.RAW '版'\n        #         # _.RAW '本'\n        #         # _.RAW '其'\n        #         # _.RAW '法'\n        #         # _.RAW '用'\n        #         # _.RAW '膠'\n        #         # _.RAW '泥'\n        #         # _.RAW '刻'\n        #         # _.RAW '字'\n        # #.......................................................................................................\n        # _.PAGE { pagenr: 7, }, ->\n        #   #.......................................................................................................\n        #   _.TAG 'demo-paragraph', { id: 'd3', contenteditable: 'true', }, -> for [ 0 .. 3 ] then _.RAW \"\"\"\n        #     <strong style='color:red;'>galley</strong> <em>(n.)</em> 13c., \"sea&shy;going ves&shy;sel\n        #     ha&shy;ving both sails and oars,\" from Old French ga&shy;lie, ga&shy;lee \"boat, war&shy;ship,\n        #     gal&shy;ley,\" from Medi&shy;eval Latin ga&shy;lea or Ca&shy;ta&shy;lan ga&shy;lea, from Late\n        #     Greek ga&shy;lea, of un&shy;known ori&shy;gin. The <span style='font-size:300%'>word</span> has\n        #     made its way into most Wes&shy;tern Eu&shy;ro&shy;pe&shy;an lan&shy;gua&shy;ges.\n        #     Ori&shy;gi&shy;nal&shy;ly \"low, flat-built sea&shy;going ves&shy;sel of one deck,\" once a\n        #     com&shy;mon type in the Me&shy;di&shy;ter&shy;ra&shy;ne&shy;an. Mean&shy;ing \"cook&shy;ing range\n        #     or cook&shy;ing room on a ship\" dates from 1750. The prin&shy;t&shy;ing sense of gal&shy;ley,\n        #     \"ob&shy;long tray that holds the type once set,\" is from 1650s, from French ga&shy;lée in the\n        #     same sense, in re&shy;f&shy;er&shy;en&shy;ce to the shape of the tray. As a short form of\n        #     galley-proof it is at&shy;tes&shy;ted from 1890. \"\"\"\n        # #.......................................................................................................\n        # _.PAGE { pagenr: 8, }\n        # _.PAGE { pagenr: 9, }\n        # _.PAGE { pagenr: 10, }\n\n  #.........................................................................................................\n  return c.as_html()\n\n\n############################################################################################################\nif module is require.main then do =>\n  html = @demo_galley()\n  echo html\n\n\n\n"
  ]
}